{% extends 'base.html' %}

{% block landing_page_image %}
<!-- Empty block to override the landing page image -->
{% endblock landing_page_image %}

{% block title %}
Edit List
{% endblock %}

{% block content %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit</title>
</head>

<body>
    <div class="button-container">
        <!-- Clone List Button -->
        <form method="post" action="{% url 'clone' list_id=shopping_list.id %}">
            {% csrf_token %}
            <button type="submit" onclick="return confirmClone()">Clone List</button>
        </form>

        <!-- Rename List Button -->
        {% if is_owner %}
        <form method="post" action="{% url 'rename' list_id=shopping_list.id %}">
            {% csrf_token %}
            <button type="submit">Rename List</button>
        </form>
        {% else %}
        <form method="post" action="{% url 'rename' list_id=shopping_list.id %}">
            {% csrf_token %}
            <button type="button" disabled>Rename List</button>
            <span id="infoIconRename">ℹ️</span>
        </form>
        {% endif %}

        <!-- Delete List button -->
        {% if is_owner %}
        <form method="post" action="{% url 'delete' list_id=shopping_list.id %}"
            onsubmit="return confirmDelete('{{ shopping_list.name }}')">
            {% csrf_token %}
            <button type="submit">Delete</button>
        </form>
        {% else %}
        <form method="post" action="{% url 'delete' list_id=shopping_list.id %}">
            {% csrf_token %}
            <button type="button" disabled>Delete</button>
            <span id="infoIconDelete">ℹ️</span>
        </form>
        {% endif %}

        <a href="{% url 'show_items' list_id=shopping_list.id %}">Items</a>
    </div>
    <script>
        // Function to display information message when clicking the info icon for Rename
        document.getElementById('infoIconRename').addEventListener('click', function () {
            alert('Only the owner can rename this list.');
        });

        // Function to display information message when clicking the info icon for Delete
        document.getElementById('infoIconDelete').addEventListener('click', function () {
            alert('Only the owner can delete this list.');
        });
    </script>
    <script>
        function confirmDelete(listName) {
            return confirm(`Are you sure you want to delete the list "${listName}"?`);
        }
    </script>
</body>

</html>
{% endblock %}

<!--

<div class="edit-button-container">
     Add Clone, Rename, and Delete options here --
    <a href="{% url 'clone_list' list.id %}" class="edit-button">Clone</a>
    <a href="{% url 'rename_list' list.id %}" class="edit-button">Rename</a>
    <a href="{% url 'delete_list' list.id %}" class="edit-button">Delete</a>
    
    -- Existing Edit button --
    <a href="{% url 'edit' list.id %}" class="edit-button">Edit</a>
    
    -- Mobile edit button --
    <div class="mobile-edit-button">
        <button class="more-options-button" onclick="showOptions()">&#10247;</button>
        <div class="options">
            <a href="{% url 'edit' list.id %}">Edit</a>
            -- Add other options here if needed --
        </div>
    </div>
    <p><i>Only the owner can rename this list.</i></p>
    
-->